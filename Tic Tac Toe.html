<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tic Tac Toe</title>
<style>
  body {
    font-family: Arial, sans-serif;
  }
  .board {
    display: grid;
    grid-template-columns: repeat(3, 100px);
    gap: 5px;
    margin: 20px auto;
  }
  .cell {
    width: 100px;
    height: 100px;
    background-color: #A52A2A; /* Brown color */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2em;
    cursor: pointer;
  }
</style>
</head>
<body>
<div id="board" class="board">
  <!-- Cells will be created by JavaScript -->
</div>
<script>
  const boardElement = document.getElementById('board');
  const board = Array(9).fill(null);
  const player = 'X';
  const computer = 'O';

  // Initialize the board
  const initializeBoard = () => {
    boardElement.innerHTML = '';
    board.forEach((_, index) => {
      const cellElement = document.createElement('div');
      cellElement.id = index;
      cellElement.className = 'cell';
      cellElement.addEventListener('click', playerMove);
      boardElement.appendChild(cellElement);
    });
  };

  // Player's move
  const playerMove = (e) => {
    const id = e.target.id;
    if (!board[id]) {
      board[id] = player;
      e.target.textContent = player;
      if (!checkWin(player)) {
        setTimeout(computerMove, 1000); // Computer 'thinks' for 1 second
      }
    }
  };

  // Computer's move
  const computerMove = () => {
    // Implement a simple AI for the computer's move
    let bestScore = -Infinity;
    let move;
    for (let i = 0; i < board.length; i++) {
      if (!board[i]) {
        board[i] = computer;
        let score = minimax(board, 0, false);
        board[i] = null;
        if (score > bestScore) {
          bestScore = score;
          move = i;
        }
      }
    }
    if (move !== undefined) {
      board[move] = computer;
      document.getElementById(move).textContent = computer;
      checkWin(computer);
    }
  };

  // Minimax algorithm for AI
  const minimax = (board, depth, isMaximizing) => {
    let result = checkWinner();
    if (result !== null) {
      return scores[result];
    }

    if (isMaximizing) {
      let bestScore = -Infinity;
      for (let i = 0; i < board.length; i++) {
        if (!board[i]) {
          board[i] = computer;
          let score = minimax(board, depth + 1, false);
          board[i] = null;
          bestScore = Math.max(score, bestScore);
        }
      }
      return bestScore;
    } else {
      let bestScore = Infinity;
      for (let i = 0; i < board.length; i++) {
        if (!board[i]) {
          board[i] = player;
          let score = minimax(board, depth + 1, true);
          board[i] = null;
          bestScore = Math.min(score, bestScore);
        }
      }
      return bestScore;
    }
  };

  // Check for a winner
  const checkWin = (currentPlayer) => {
    const winPatterns = [
      [0, 1, 2], [3, 4, 5], [6, 7, 8], // Rows
      [0, 3, 6], [1, 4, 7], [2, 5, 8], // Columns
      [0, 4, 8], [2, 4, 6]             // Diagonals
    ];

    return winPatterns.some(pattern => {
      if (pattern.every(index => board[index] === currentPlayer)) {
        alert(`${currentPlayer} wins!`);
        initializeBoard();
        return true;
      }
      return false;
    });
  };

  // Check for a winner or tie
  const checkWinner = () => {
    if (checkWin(player)) return player;
    if (checkWin(computer)) return computer;
    if (board.every(cell => cell !== null)) {
      alert('Tie!');
      initializeBoard();
      return 'tie';
    }
    return null;
  };

  // Scores for minimax
  const scores = {
    X: -10,
    O: 10,
    tie: 0
  };

  // Start the game
  initializeBoard();
</script>
</body>
</html>
